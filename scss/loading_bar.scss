$mode: true;
$textHeight: 100;
$htmlElements: 5;

body {background: #333333;}

@keyframes rotate-loading {
  0%  {transform: rotate(0deg);}
  100% {transform: rotate(360deg);}
}

@keyframes loading-text-opacity {
  0%  {opacity: 0.25}
  50% {opacity: 1}
  100%{opacity: 0.25}
}

@mixin setText($count, $textHeight) {
  display: flex;
  justify-content: center;
  align-items: center;
  animation: movingUp #{$count * 2}s linear infinite;
  position: relative;
  
  div {
    opacity: 0.25;
    animation: loading-text-opacity 1s ease-in-out infinite;
  }
  
  $factor: 100 / $count;
  
  @for $i from 0 through $count {
    @keyframes movingUp {
      0% {
        bottom: -#{$textHeight}px;
      }
      #{$i * $factor * 1%} {
        bottom: #{$i * $textHeight}px;
      }
    } 
  } 
}

@mixin text($count) {
  position: absolute;
  top: -30%;
  left: 50%;
  width: 2px;
  height: 160%;

  div {
    transform: rotate(90deg);
  }
  
  $factor: 360 / $count;
  @for $i from 1 through $count {
    &:nth-child(#{$i}) {
      transform:rotate(#{$i * $factor}deg);
    }
  }
}

.loading-container { 
   margin: 40px auto;
   height: 320px;
   position: relative;
   width: 320px;
   border-radius: 100%;
   display: flex;
   flex-flow: row nowrap;
   justify-content: center;
   align-items: center;
   overflow: hidden;
   
   .loading-text-container {
     position: absolute;
     
     @if $mode {
       animation: rotate-loading #{$htmlElements * 4}s infinite;
       width: 100%;
       height: 100%;
       left: 65%;
     }
     @else {
       overflow: hidden;
       top: 10px;
       left: 10px;
       right: 10px;
       bottom: 10px;
     }
     
      .loading-text {
        color: #ffffff;
        font-family: "Helvetica Neue, "Helvetica", ""arial";
        font-size: 14px;
        font-weight: bold;
        text-transform: uppercase;
        width: 100%;
        height: #{$textHeight * 1%};
        
        @if $mode {
          @include text($htmlElements); 
        }
        @else {
          @include setText($htmlElements, $height);
        }
      }
   }
   
   .loading {
       border: 2px solid transparent;
       border-color: transparent #fff transparent #FFF;
       animation: rotate-loading 1.5s linear 0s infinite normal;
       transform-origin: 50% 50%;
       transition: all 0.5s ease-in-out;
       width: 100%;
       height: 100%;
       border-radius: 100%;
   }
   
   &:hover {
     .loading {
         border-color: transparent #E45635 transparent #E45635;
     }
   }
}
